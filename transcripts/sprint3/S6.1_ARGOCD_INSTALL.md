# S6.1: ArgoCD Installation

**Video Duration:** ~10 minutes  
**Story Points:** 3

---

## Learning Objectives

By the end of this video, you will be able to:
- Understand GitOps principles
- Install ArgoCD on EKS
- Access the ArgoCD UI
- Connect Git repositories

---

## Transcript

### Introduction (0:00 - 1:00)

Welcome to Sprint 3! We're now entering GitOps territory. This is where things get really exciting.

ArgoCD is a declarative, GitOps continuous delivery tool. It watches your Git repository and automatically syncs your Kubernetes cluster to match.

### What is GitOps? (1:00 - 2:30)

GitOps has four principles:

1. **Declarative** - The entire system is described declaratively
2. **Versioned** - The desired state is stored in Git
3. **Automated** - Changes are automatically applied
4. **Continuously Reconciled** - Agents ensure actual state matches desired state

Think of it this way: Git becomes the single source of truth. If something is different in the cluster, ArgoCD fixes it automatically.

### Installing ArgoCD (2:30 - 5:00)

Let's install:

```bash
kubectl create namespace argocd
kubectl apply -n argocd -f https://raw.githubusercontent.com/argoproj/argo-cd/stable/manifests/install.yaml
```

Wait for pods:

```bash
kubectl wait --for=condition=Ready pods --all -n argocd --timeout=300s
kubectl get pods -n argocd
```

*[Shows ArgoCD pods running]*

All the components are up:
- argocd-server - The API/UI server
- argocd-repo-server - Clones Git repos
- argocd-application-controller - Reconciles clusters
- argocd-redis - Caching
- argocd-dex-server - SSO integration

### Getting the Admin Password (5:00 - 5:30)

```bash
kubectl -n argocd get secret argocd-initial-admin-secret -o jsonpath="{.data.password}" | base64 -d
echo ""
```

Save this password! We'll use it to log in.

### Accessing the UI (5:30 - 7:00)

```bash
kubectl port-forward svc/argocd-server -n argocd 8080:443
```

*[Opens browser to https://localhost:8080]*

Username: admin
Password: [from above]

*[Logs in, shows empty dashboard]*

This is ArgoCD! Currently no applications, but we'll add some.

### Connecting Git Repository (7:00 - 8:30)

Let's add our GitOps repository:

```bash
argocd login localhost:8080 --username admin --password <password> --insecure

argocd repo add https://github.com/TechITFactory/techitfactory-gitops.git \
  --username your-username \
  --password your-token

argocd repo list
```

*[Shows repository connected]*

ArgoCD can now read from our GitOps repo.

### Creating First Application (8:30 - 9:30)

Quick demo - let's create an app via CLI:

```bash
argocd app create frontend \
  --repo https://github.com/TechITFactory/techitfactory-gitops.git \
  --path environments/dev/frontend \
  --dest-server https://kubernetes.default.svc \
  --dest-namespace techitfactory

argocd app sync frontend
```

*[Shows app syncing in UI]*

The app is deployed! But we'll do this properly with App-of-Apps next.

### Summary (9:30 - 10:00)

We installed:
1. ArgoCD on our EKS cluster
2. Accessed the UI
3. Connected our GitOps repository
4. Created a test application

Next: The App-of-Apps pattern for managing all our services!

---

## Key Takeaways

- GitOps uses Git as the source of truth
- ArgoCD continuously reconciles cluster state
- The UI provides visibility into deployments
- Applications can be CLI or YAML-defined
- Repository connection enables GitOps flow
